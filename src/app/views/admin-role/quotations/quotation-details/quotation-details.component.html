<!-- ui_fix -->
<div class="invoice-details-container p-0 ps-5 pe-5 position-relative" *ngIf="quotation">
  <div class="row">
    <div class="col-md-9 flex-fill">
      <div  class="col-md-12 title pb-3">
        <h2>{{'PRICEOFFERDETAILS.PRICEOFFERDETAILS' | translate}}</h2>
      </div>
    </div>
    <div class="col-md-12 p-3 card invoice-details mb-3">
      <div class="col-md-12  pb-3">
        <h5>{{'PRICEOFFERDETAILS.DETAILS' | translate}}</h5>
      </div>
      <div>
        {{'PRICELIST.PRICE'|translate}}: #{{quotation?.number}}
      </div>
    </div>
    <div class="col-md-12 card invoice-details ps-3">
      <div class="row mt-4 pb-4 border-bottom border-2">
        <div class="col-md-12">
          <p class="fw-bold">{{'PRICELIST.PRICE'|translate}}</p>
        </div>
         <div class="col-md-5">
            <div class="card infoCard p-3">
              <div class="d-flex">
                <p class="fw-bold">{{'COMMON.ADDRESS'|translate}} :</p>
                <p>{{quotation.address}}</p>
              </div>
              <div class="d-flex">
                <p class="fw-bold"> {{'COMMON.TELEPHONE'|translate}} : </p>
                <p>{{quotation.telephone}}</p>
              </div>
              <div class="d-flex">
                <p class="fw-bold"> {{'COMMON.FAXNUMBER'|translate}} : </p>
                <p>{{quotation?.fax_number}}</p>
              </div>
            </div>
         </div>
      </div>
      <div class="row mt-4 pb-4 border-bottom border-2">
        <div class="col-md-12">
          <p class="fw-bold">{{'COMMON.TO'|translate}}</p>
        </div>
        <div class="col-md-5">
          <div class="card infoCard p-3">
            <div class="d-flex">
              <p class="fw-bold">{{'COMMON.CLIENTNAME'|translate}} : </p>
              <p>{{quotation.client}}</p>
            </div>
            <div class="d-flex">
              <p class="fw-bold">{{'COMMON.TAXIDENTNUMBER'|translate}} : </p>
              <p>{{quotation.client_tax_number}}</p>
            </div>
            <div class="d-flex">
               <p class="fw-bold">{{'COMMON.ADDRESS'|translate}} :</p>              
               <p>{{quotation.client_address}}</p>
              </div>

          </div>
        </div>
      </div>

    <!--  for wide Screen -->
    <div class="me-4 mt-4  wideScreen d-flex align-items-center  border-2 gap-2 flex-wrap ">
      <div class="flex-fill">
       <p>{{'COMMON.PRODUCTS'|translate}} </p>
      </div>
      <div class="width-12">
        <p>{{'COMMON.QUANTITY'|translate}} </p>
       </div>
      <div class="width-12">
       <p>{{'COMMON.PRICE'|translate}} </p>
      </div>
      <div class="width-12">
       <p>{{'COMMON.DISCOUNT'|translate}} </p>
     </div>
      <div class="width-12">
       <p>{{'COMMON.TAXABLEAMOUNT'|translate}} </p>
       </div>
      <div class="width-12"> 
       <p> {{'COMMON.TAX'|translate}} </p></div>
      <div class="width-12">
       <p>{{'COMMON.TOTAL'|translate}}   </p>
      </div>
     </div>

     <!-- labels inside white box for small Screen -->
     <div *ngFor="let product of quotation.products">
       <div class="me-4 mt-2 w-100 bg-white shadowCard d-flex align-items-center  border-2 gap-2 mb-5 flex-wrap">
         <div class="flex-fill">
         <p class="smallScreen">{{'COMMON.PRODUCTS'|translate}}</p>
         <div class="card displayCard ">
             {{product?.name}}
         </div>
         </div>
         <div class="width-12">
         <p class="smallScreen">{{'COMMON.QUANTITY'|translate}}</p>
         <div class="card displayCard">
          {{product?.pivot.quantity}}
         </div>
         </div>
         <div class="width-12">
         <p class="smallScreen">{{'COMMON.PRICE'|translate}}</p>
         <div class="card displayCard">
             {{product?.pivot.price}}
         </div>
         </div>
         <div class="width-12">
         <p class="smallScreen">{{'COMMON.DISCOUNT'|translate}}</p>
         <div class="card displayCard">
          {{product?.pivot.discount}}
         </div>
       </div>
         <div class="width-12">
         <p class="smallScreen">{{'COMMON.TAXABLEAMOUNT'|translate}}</p>
           <div class="card displayCard">
              {{(product.pivot.price*product.pivot.quantity)-product.pivot.discount }} 
           </div>
         </div>
         <div class="width-12"> 
           <p class="smallScreen"> {{'COMMON.TAX'|translate}}  </p>
           <div class="card displayCard">
            {{product?.pivot.tax}}

           </div>
         </div>
         <div class="width-12">
         <p class="smallScreen">{{'COMMON.TOTAL'|translate}}   </p>
         <div class="card displayCard">
          {{product?.pivot.total}}
         </div>
         </div>
       </div>
  
     </div>



<div class="HLine mb-2"></div>
    <div class="row mt-4  cards  gap-5 mt-4 gap-7 pb-4  border-2 d-flex justify-content-around">
      <div style="background-color: #11C387;" class="totalCards card col-md-3 d-flex align-items-center justify-content-center">
         <span class="text text-center ">{{'COMMON.TOTALTAXABLEAMOUNT'|translate}} </span><br>
         <span class="num text-center">{{'COMMON.SAR' |translate}} {{ totalWithoutTax}}</span>
      </div>
      <div style="background-color: #5C60F5;" class="totalCards card col-md-3 d-flex align-items-center justify-content-center">
        <span class="text text-center">{{'COMMON.TOTALTAX'|translate}}</span><br>
        <span class="num text-center">{{'COMMON.SAR' |translate}} {{ totalTax}}</span>
      </div>
      <div style="background-color: #4C4C4C;" class="totalCards card col-md-3 d-flex align-items-center justify-content-center">
        <span class="text text-center">{{'COMMON.TOTAL'|translate}}  </span><br>
        <span class="num text-center">{{'COMMON.SAR' |translate}} {{quotation.total}} </span>
      </div>
    </div>
  

    </div>
 </div>



</div>





