
<!-- <div class="ReportCont">
  <div>
    <h3 class="fw-bolder fw-600 mb-3">{{'SALESREPORT.REPORTS' |translate}}</h3>
  </div>
   <div class="card borderRadius_20px boxShadow-10">
      <div class="p-4">
        <div class="w-100">
          <h4 class="fw-bold">{{'ADMINREPORTS.ADMINUSERSREPORT' |translate}}</h4>
        </div>
       
        <div class="topPart h-100 d-flex flex-wrap  align-items-center gap-3">
          <label class="form-label fw-bolder mt-2 mb-0">{{'SALESREPORT.CHOOSE_REPORT_DURATION' |translate}}</label>
          <div class="mx-0"> 
         
            <p-dropdown *ngIf="language=='ar'" #durationDropDown (click)="openModelCheck()" [options]="duration" [(ngModel)]="currentDuration"  placeholder=" " class="my-1 mx-0 h-60px  d-flex py-2 generateDiv" optionLabel="nameAR" optionValue="value"></p-dropdown>                             
            <p-dropdown *ngIf="language=='en'" #durationDropDown (click)="openModelCheck()" [options]="duration" [(ngModel)]="currentDuration"  placeholder=" " class="my-1 mx-0 h-60px  d-flex py-2 generateDiv" optionLabel="nameEN" optionValue="value"></p-dropdown>                             
          </div> 
          <div class="d-flex align-items-center">
            <app-button-comp [btnType]="'main'" (click)="changeDate()" [style.width.px]="200"  type="submit"  [name]="'ADMINREPORTS.GENERATE' |translate" background_color="#1B1464"></app-button-comp>
          </div>
        </div>
      </div>
       <div class="HLine"></div>

       <div class="ms-auto p-2 d-flex justifay-center-sm" *ngIf="userPermissions['reports.download']">
        <app-button-comp [btnType]="'main'" (click)="downloadCSV()" style="width: 190px;" type="button"  [name]="'CUSTOMERACCOUNTREPORT.PDF' | translate" [background_color]="'#5C60F5'"></app-button-comp>
      </div>

      <div class="p-1">
        
      <app-table-comp 
      [columnsArray]="columnsArray"
      [columnsNames]="columnsNames"
      [RowsData] = "usersData">
      </app-table-comp>

      <p-paginator (onPageChange)="onPageChange($event)" #paginator
      [first]="1" [rows]="perPage" [totalRecords]="totalPage" 
     ></p-paginator> 

      </div>
   </div>
</div>


<button hidden #calendarModel type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#chooseTimeModel">

</button>

<div  class="modal fade" id="chooseTimeModel"  tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">{{'SALESREPORT.SELECT_DATE' |translate}}</h1>
       
      </div>
      <div class="modal-body">
        <div class="w-100 d-flex flex-wrap justify-content-between gap-3">
           <div class="d-flex width-49 justify-content-start flex-column">
               <h4>{{'SALESREPORT.START' |translate}}</h4>
               <p-calendar class="max-w-full" [(ngModel)]="startDate" [inline]="true" [showWeek]="true" dateFormat="dd-mm-yy"></p-calendar>
           </div>
           <div class="d-flex width-49 justify-content-start flex-column">
               <h4>{{'SALESREPORT.END' |translate}}</h4>
               <p-calendar class="max-w-full" [(ngModel)]="endDate" [inline]="true" [showWeek]="true" dateFormat="dd-mm-yy"></p-calendar>
           </div>
        </div>




        <div class="w-100 d-flex justify-content-center align-items-center mt-4">
          <app-button-comp [btnType]="'main'"  class="width-210px d-flex  me-2" data-bs-dismiss="modal"
          aria-label="Close" #closePoPModal  [name]="'SALESREPORT.SELECT' |translate" [color]="'#1B1464'"></app-button-comp>
        </div>
      
      </div>

      

    </div>
  </div>
</div> -->


<!-- ===================new Users Report================= -->
 <!-- ui_fix -->
<div class="ReportCont p-5">
  <div>
    <h3 class="fw-bolder fw-600 py-3 px-3">{{'SALESREPORT.REPORTS' |translate}}</h3>
  </div>
   <div class="card borderRadius_20px boxShadow-10">
      <div class="p-3 py-4">
        <div class="w-100">
          <h4 class="fw-bold">{{'ADMINREPORTS.ADMINUSERSREPORT' |translate}}</h4>
        </div>
       
        <div class="topPart h-100 d-flex flex-wrap  align-items-center gap-3">
          <label class="form-label fw-bolder mt-2 mb-0">{{'SALESREPORT.CHOOSE_REPORT_DURATION' |translate}}</label>
          <div class="mx-0"> 
         
            <p-dropdown *ngIf="language=='ar'" #durationDropDown (click)="openModelCheck()" [options]="duration" 
            [(ngModel)]="currentDuration"  placeholder=" " class="my-1 mx-0 h-60px  d-flex py-2 generateDiv"  optionLabel="nameAR" optionValue="value"></p-dropdown>                             
            <p-dropdown *ngIf="language=='en'" #durationDropDown (click)="openModelCheck()"
             [options]="duration" [(ngModel)]="currentDuration"  placeholder=" " class="my-1 mx-0 h-60px  d-flex py-2 generateDiv"  optionLabel="nameEN" optionValue="value"></p-dropdown>                             
          </div> 
          <!-- <div class="d-flex align-items-center">
            <app-button-comp [btnType]="'main'" (click)="changeDate()" [style.width.px]="200"  type="submit"  [name]="'ADMINREPORTS.GENERATE' |translate" background_color="#1B1464"></app-button-comp>
          </div> -->
        </div>
      </div>

     

       <div class="d-flex gap-4 flex-wrap pb-2">
        <div class="durationDiv">
          <div class="mb-1 mx-3">
            <p> {{'ADMINREPORTS.CHOOSEPLAN' | translate}} </p>
          </div>
          <div class="mx-3 mt-2">
            <p-dropdown [options]="filteredPlans" [(ngModel)]="Current_plan_id"
              placeholder="{{'ADMINREPORTS.CHOOSEPLAN' | translate}}" class="my-1 mx-0 py-2 w-100" optionLabel="name"
              optionValue="id"></p-dropdown>
          </div>
        </div>
  
        <div class="durationDiv">
          <div class="mb-1 mx-3">
            <p> {{'ADDCOUPON.SUBSCRIPTIONTYPE' | translate}} </p>
            </div>
            <div class="mx-3 mt-2">
            <p-dropdown *ngIf="language=='ar'"  [options]="usersType"  [(ngModel)]="currentType"
            placeholder="{{'ADDCOUPON.SUBSCRIPTIONTYPE' | translate}}" class="my-1 mx-0 py-2 w-100" optionLabel="nameAR" optionValue="value"></p-dropdown>
            <p-dropdown *ngIf="language=='en'"  [options]="usersType"  [(ngModel)]="currentType"
            placeholder="{{'ADDCOUPON.SUBSCRIPTIONTYPE' | translate}}" class="my-1 mx-0 py-2 w-100" optionLabel="nameEN" optionValue="value"></p-dropdown>
          </div> 
        </div>

        <div class="durationDiv">
          <div class="mb-1 mx-3">
            <p>  {{'ADMINREPORTS.INVOICECREATED' | translate}} </p>
            </div>
            <div class="mx-3 mt-2">
            <p-dropdown *ngIf="language=='ar'"  [options]="invoiceCreation"  [(ngModel)]="has_invoicesType"
            placeholder="{{'AADMINREPORTS.INVOICECREATED' | translate}}" class="my-1 mx-0 py-2 w-100" optionLabel="nameAR" optionValue="value"></p-dropdown>
            <p-dropdown *ngIf="language=='en'"  [options]="invoiceCreation"  [(ngModel)]="has_invoicesType"
            placeholder="{{'AADMINREPORTS.INVOICECREATED' | translate}}" class="my-1 mx-0 py-2 w-100" optionLabel="nameEN" optionValue="value"></p-dropdown>
          </div> 
        </div>

        <!-- <div class="align-items-end d-flex durationDiv ">
          <app-button-comp [btnType]="'main'" (click)="durationFilter()" [style.width.px]="200"  type="submit"  [name]="'ADMINREPORTS.SEARCH' |translate" background_color="#1B1464"></app-button-comp>
        </div> -->
        
       </div>
       <div class="ms-auto p-2 d-flex justifay-center-sm gap-3" >
        <app-button-comp [btnType]="'main'" (click)="applyFilters()" [style.width.px]="200"  type="submit"  [name]="'ADMINREPORTS.SEARCH' |translate" background_color="#1B1464"></app-button-comp>
        <app-button-comp [btnType]="'main'" (click)="downloadCSV()" style="width: 190px;" type="button"  [name]="'CUSTOMERACCOUNTREPORT.PDF' | translate" [background_color]="'#5C60F5'"></app-button-comp>
      </div>
   

      <div class="p-1" id="reportTable">
        
      <app-table-comp 
      [columnsArray]="columnsArray"
      [columnsNames]="columnsNames"
      [RowsData] = "usersData">
      </app-table-comp>

      <p-paginator (onPageChange)="onPageChange($event)" #paginator
      [first]="1" [rows]="perPage" [totalRecords]="totalPage" 
     ></p-paginator> 
      </div>
   </div>
</div>


<button hidden #calendarModel type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#chooseTimeModel">

</button>

<!-- Modal -->
<div  class="modal fade" id="chooseTimeModel"  tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">{{'SALESREPORT.SELECT_DATE' |translate}}</h1>
       
      </div>
      <div class="modal-body">
        <div class="w-100 d-flex flex-wrap justify-content-between gap-3">
           <div class="d-flex width-49 justify-content-start flex-column">
               <h4>{{'SALESREPORT.START' |translate}}</h4>
               <p-calendar class="max-w-full" [(ngModel)]="startDate" [inline]="true" [showWeek]="true" dateFormat="dd-mm-yy"></p-calendar>
           </div>
           <div class="d-flex width-49 justify-content-start flex-column">
               <h4>{{'SALESREPORT.END' |translate}}</h4>
               <p-calendar class="max-w-full" [(ngModel)]="endDate" [inline]="true" [showWeek]="true" dateFormat="dd-mm-yy"></p-calendar>
           </div>
        </div>




        <div class="w-100 d-flex justify-content-center align-items-center mt-4">
          <app-button-comp [btnType]="'main'"  (click)="changeDate()"  class="width-210px d-flex  me-2" data-bs-dismiss="modal"
          aria-label="Close" #closePoPModal  [name]="'SALESREPORT.SELECT' |translate" [color]="'#1B1464'"></app-button-comp>
        </div>
      
      </div>

      

    </div>
  </div>
</div>